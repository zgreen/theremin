!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(o,a){for(var i,l,s=0,c=[];s<o.length;s++)l=o[s],r[l]&&c.push.apply(c,r[l]),r[l]=0;for(i in a)e[i]=a[i];for(n&&n(o,a);c.length;)c.shift().call(null,t)};var o={},r={0:0};return t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.src=t.p+""+e+"."+({}[e]||e)+".bundle.js",o.appendChild(a)}},t.m=e,t.c=o,t.p="/build/",t(0)}([/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){_.audioActive&&(_.gain.disconnect(w.destination),_.reverb.enabled||(_.convolver.disconnect(_.gain),_.oscillator.disconnect(_.convolver))),i().then(function(e){_.convolver.buffer=e,_.reverb.enabled&&_.convolver.connect(_.gain),_.oscillator.connect(_.reverb.enabled?_.convolver:_.gain),_.gain.connect(w.destination),_.oscillator.frequency.value=0,_.audioActive||(_.oscillator.start(),_.audioActive=!0)})}function i(){return new Promise(function(e,t){_.audioData.length?e(_.audioData):y().then(function(t){w.decodeAudioData(t).then(function(t){_.audioData=t,e(_.audioData)})})})}function l(){g().then(function(e){_.curNotes=e})}function s(){h.default.classList.add(b.view),_.viewEls.overlay.classList.add(b.overlay),_.viewEls.overlay.addEventListener("click",function(e){e.target.remove(),a()}),_.viewEls.controls.classList.add(b.controls),_.viewEls.allowedNotes.classList.add(b.notes),_.currentScale.map(function(e,t){var n=document.createElement("div"),o=document.createElement("label"),r=document.createElement("input");return o.innerHTML=e.name,r.type="checkbox",r.setAttribute("checked",!0),n.appendChild(o),n.appendChild(r),r.addEventListener("click",function(e){_.currentScale[t].disabled=!r.checked}),n}).reduce(function(e,t){return _.viewEls.allowedNotes.appendChild(t),e},[]),_.viewEls.waves.innerHTML=_.waves.map(function(e){return'<option value="'+e+'">'+e+"</option>"}).join(""),_.viewEls.noteDisplay.classList.add(b.noteDisplay),_.viewEls.waves.addEventListener("click",function(e){_.gain.gain.value=0}),_.viewEls.waves.addEventListener("change",function(e){_.oscillator.type=e.target.value}),_.viewEls.clampToNote.addEventListener("click",function(e){_.clampToNote=!_.clampToNote}),_.viewEls.bufferSrc.addEventListener("submit",function(e){e.preventDefault()}),_.viewEls.toggleVibrato.addEventListener("click",function(){c()}),_.viewEls.vibratoRate.value=_.vibrato.rate,_.viewEls.vibratoAmplitube.value=_.vibrato.amplitude,_.viewEls.vibratoRate.addEventListener("change",function(){c(c(_.viewEls.vibratoRate.value))}),_.viewEls.vibratoAmplitube.addEventListener("change",function(){c(_.vibrato.rate,_.viewEls.vibratoAmplitube.value)}),_.viewEls.toggleReverb.addEventListener("click",function(){_.reverb.enabled=!_.reverb.enabled,a()}),document.body.appendChild(h.default)}function c(e,t){e||t?(clearInterval(_.vibrato.interval),_.vibrato.rate=e,_.vibrato.amplitude=t,_.vibrato.interval=setInterval(v,_.vibrato.rate)):_.viewEls.toggleVibrato.checked?_.vibrato.interval=setInterval(v,_.vibrato.rate):clearInterval(_.vibrato.interval)}function u(e,t){h.default.style.background="hsla("+e+", "+t+"%, 50%, 1)"}function d(e){var t=_.currentScale.filter(function(e){return!e.disabled}).map(function(e){return e.name}),n=-1*e.clientY/window.innerHeight+1;_.gain.gain.value="sine"===_.oscillator.type||"triangle"===_.oscillator.type?n:n/10;var o=e.clientX/window.innerWidth*440+100,r=_.clampToNote?_.curNotes.reduce(function(e,n){var r=2===n.note.length;return Array.isArray(e)&&(t.indexOf(n.note.substr(0,r?1:2))!==-1&&n.frequency<o&&e.push(n),t.indexOf(n.note.substr(0,r?1:2))!==-1&&n.frequency>o&&(e=e[e.length-1])),e},[]):{frequency:o,note:"n/a"};_.oscillator.frequency.value=r.frequency,_.viewEls.noteDisplay.innerHTML="Current note: "+r.note,u(240+e.clientX/window.innerWidth*100,100*n)}function v(){_.oscillator.detune.value=_.oscillator.detune.value+_.vibrato.val,Math.abs(_.vibrato.val)>_.vibrato.amplitude?_.vibrato=f({},_.vibrato,{dir:_.vibrato.dir*-1,val:_.vibrato.val-1*_.vibrato.dir}):_.vibrato.val=_.vibrato.val+1*_.vibrato.dir}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=n(/*! ./app.css */10),b=r(p),m=n(/*! ./view.html */5),h=o(m),g=n(/*! promise?global!./music-freqs.json */8),y=n(/*! promise?global!arraybuffer!./AbernyteGrainSilo.m4a */7),w=window.AudioContext?new window.AudioContext:new window.webkitAudioContext,_={audioActive:!1,audioData:{},currentScale:[{name:"c",disabled:!1},{name:"c#",disabled:!1},{name:"d",disabled:!1},{name:"d#",disabled:!1},{name:"e",disabled:!1},{name:"f",disabled:!1},{name:"f#",disabled:!1},{name:"g",disabled:!1},{name:"g#",disabled:!1},{name:"a",disabled:!1},{name:"a#",disabled:!1},{name:"b",disabled:!1}],clampToNote:!1,convolver:w.createConvolver(),curNotes:[],gain:w.createGain(),oscillator:w.createOscillator(),reverb:{enabled:!1},waves:["sine","square","sawtooth","triangle"],overlayVisible:!0,viewEls:{allowedNotes:h.default.querySelector("#allowed-notes"),bufferSrc:h.default.querySelector("#custom-buffer-source"),clampToNote:h.default.querySelector("#clamp-to-note"),controls:h.default.querySelector("#controls"),vibratoAmplitube:h.default.querySelector("#vibrato-amplitude"),vibratoRate:h.default.querySelector("#vibrato-rate"),noteDisplay:h.default.querySelector("#note-display"),overlay:h.default.querySelector("#overlay"),toggleReverb:h.default.querySelector("#toggle-reverb"),toggleVibrato:h.default.querySelector("#enable-vibrato"),waves:h.default.querySelector("#waves")},vibrato:{dir:1,val:1,rate:10,amplitude:5,interval:function(){}},tremolo:{rate:10,amplitude:5}};!function(){l(),s(),document.addEventListener("mousemove",d),document.addEventListener("touchmove",d)}()},,,/*!***************************************************************************************************************!*\
  !*** ./~/css-loader?modules&localIdentName=[name]__[local]__[hash:base64:5]!./~/postcss-loader!./src/app.css ***!
  \***************************************************************************************************************/
function(e,t,n){t=e.exports=n(/*! ./../~/css-loader/lib/css-base.js */4)(),t.push([e.id,"html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{color:#fff;cursor:crosshair;font-family:monospace;margin:0;text-shadow:1px 0 0 #111,0 1px 0 #111,-1px 0 0 #111,0 -1px 0 #111}.app__view__1ORZ5{height:100vh;overflow:hidden;width:100vw}h1{text-align:center}.app__controls__vqhHa{align-items:stretch;border-top:1px solid #111;bottom:0;color:#fff;padding:1em;display:flex;font-size:1.5rem;flex-wrap:wrap;justify-content:space-around;position:fixed;width:100%}.app__controls__vqhHa>*{align-items:center;display:flex;flex:0 1 auto;justify-content:center}.app__controls__vqhHa select{align-self:center}.app__currentNote__2wMcs{width:33%}.app__notes__2Tggs{justify-content:center;width:100%}.app__notes__2Tggs>*{margin-right:1em}.app__notes__2Tggs>:last-child{margin-right:0}.app__noteDisplay__3zARL{flex-shrink:0;width:100%}.app__overlay__31cgC{align-items:center;background:#111;display:flex;font-size:3em;height:100vh;padding:1em;position:absolute;top:0;width:100vw;z-index:1}",""]),t.locals={view:"app__view__1ORZ5",controls:"app__controls__vqhHa",currentNote:"app__currentNote__2wMcs",notes:"app__notes__2Tggs",noteDisplay:"app__noteDisplay__3zARL",overlay:"app__overlay__31cgC"}},/*!**************************************!*\
  !*** ./~/css-loader/lib/css-base.js ***!
  \**************************************/
function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(o[a]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},/*!***********************!*\
  !*** ./src/view.html ***!
  \***********************/
function(e,t){e.exports='<div id=overlay>Heads up! This thing makes noise. It shouldn\'t be too loud, but consider turning down your speakers or headphones just in case. Click anywhere to begin.</div> <div id=theremin></div> <div id=controls> <label for=clamp-to-note>Clamp to note?</label> <input id=clamp-to-note type=checkbox> <form action=""> <label for=toggle-reverb>Enable reverb?</label> <input type=checkbox id=toggle-reverb> <label for=custom-buffer-source>Set a custom buffer source</label> <input id=custom-buffer-source type=text placeholder="Paste a URL to an audio file to use a the buffer"> <button type=submit>Get</button> </form> <form id=vibrato-settings action=""> <label for=enable-vibrato>Enable vibrato?</label> <input id=enable-vibrato type=checkbox> <label for=vibrato-rate>Vibrato rate</label> <input id=vibrato-rate type=number> <label for=vibrato-amplitude>Vibrato amplitude</label> <input id=vibrato-amplitude type=number> </form> <form id=tremolo-settings> <label for=enable-tremolo>Enable tremolo?</label> <input id=enable-tremolo type=checkbox> <label for=tremolo-rate>Tremolo rate</label> <input id=tremolo-rate type=number> <label for=tremolo-amplitude>Tremolo amplitude</label> <input id=tremolo-amplitude type=number> </form> <select name="" id=waves></select> <p id=note-display></p> <div id=allowed-notes></div> </div> ';var n=document.createElement("div");n.innerHTML=e.exports,e.exports=n},,/*!************************************************************************************!*\
  !*** ./~/promise-loader?global!./~/arraybuffer-loader!./src/AbernyteGrainSilo.m4a ***!
  \************************************************************************************/
function(e,t,n){e.exports=function(){return new Promise(function(e){n.e(1,function(t){e(n(/*! !./~/arraybuffer-loader!./src/AbernyteGrainSilo.m4a */1))})})}},/*!********************************************************!*\
  !*** ./~/promise-loader?global!./src/music-freqs.json ***!
  \********************************************************/
function(e,t,n){e.exports=function(){return new Promise(function(e){n.e(2,function(t){e(n(/*! !./~/json-loader!./src/music-freqs.json */6))})})}},/*!*************************************!*\
  !*** ./~/style-loader/addStyles.js ***!
  \*************************************/
function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=f[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(c(o.parts[a],t))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(c(o.parts[a],t));f[o.id]={id:o.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],a=r[0],i=r[1],l=r[2],s=r[3],c={css:i,media:l,sourceMap:s};n[a]?n[a].parts.push(c):t.push(n[a]={id:a,parts:[c]})}return t}function a(e,t){var n=m(),o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function c(e,t){var n,o,r;if(t.singleton){var a=g++;n=h||(h=l(t)),o=u.bind(null,n,a,!1),r=u.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),o=v.bind(null,n),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),o=d.bind(null,n),r=function(){i(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function u(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function v(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var f={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},b=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,g=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=b()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return o(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var l=n[i],s=f[l.id];s.refs--,a.push(s)}if(e){var c=r(e);o(c,t)}for(var i=0;i<a.length;i++){var s=a[i];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete f[s.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},/*!*********************!*\
  !*** ./src/app.css ***!
  \*********************/
function(e,t,n){var o=n(/*! !./../~/css-loader?modules&localIdentName=[name]__[local]__[hash:base64:5]!./../~/postcss-loader!./app.css */3);"string"==typeof o&&(o=[[e.id,o,""]]);n(/*! ./../~/style-loader/addStyles.js */9)(o,{});o.locals&&(e.exports=o.locals)}]);
//# sourceMappingURL=app.bundle.js.map